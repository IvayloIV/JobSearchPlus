<th:block xmlns:th="http://www.thymeleaf.org" th:fragment="index">
    <div class="container" th:object="${jobFilterViewModel}">
        <form class="form row" th:action="@{/job/list}" th:method="GET">
            <div class="form-group col col-lg-3">
                <input type="text" class="form-control" placeholder="Job name" name="jobName" th:value="*{jobName}">
            </div>
            <div class="form-group col col-lg-3">
                <input type="text" class="form-control" placeholder="Company name" name="companyName" th:value="*{companyName}">
            </div>
            <div class="form-group col col-lg-3">
                <input type="text" class="form-control" placeholder="Region" name="region" th:value="*{region}">
            </div>
            <div class="col col-lg-3">
                <button type="submit" class="btn btn-dark" th:text="Search"></button>
            </div>
        </form>
        <div th:each="job: ${jobsViewModel}" th:object="${job}">
            <h4 th:text="*{title}"></h4>
            <div th:text="*{region}"></div>
            <div th:text="*{companyName}"></div>
            <div th:text="*{updatedDate}"></div>
            <a th:href="@{/job/details/{id}(id=*{recordId})}">Details</a>
        </div>
        <div class="my-3">
            <ul class="pagination">
                <li class="page-item"
                    th:classappend="*{currentPage == 1} ? d-none: ''">
                    <a class="page-link" th:href="@{/job/list(page=*{currentPage - 1},jobName=*{jobName},companyName=*{companyName},region=*{region})}">Previous</a>
                </li>
                <li th:each="i : *{#numbers.sequence(1, totalPages)}"
                    class="page-item"
                    th:classappend="${i == jobFilterViewModel.currentPage} ? active: ''">
                    <a class="page-link"
                       th:href="@{/job/list(page=${i},jobName=*{jobName},companyName=*{companyName},region=*{region})}"
                       th:text="${i}">
                    </a>
                </li>
                <li class="page-item"
                    th:classappend="*{currentPage == totalPages} ? d-none: ''">
                    <a class="page-link" th:href="@{/job/list(page=*{currentPage + 1},jobName=*{jobName},companyName=*{companyName},region=*{region})}">Next</a>
                </li>
            </ul>
        </div>
    </div>
</th:block>